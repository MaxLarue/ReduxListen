Object.defineProperty(exports,"__esModule",{value:true});exports.default=listenOnStateChange;var _translatePath=require("./translatePath");function defaultComp(a,b){if(a===b){return true;}if(typeof a===typeof b&&typeof a==="object"){for(var aKey in a){if(!b.hasOwnProperty(aKey)){return false;}if(a[aKey]!==b[aKey]){return false;}}return true;}return false;}function listenOnStateChange(store,path,callback,comp){if(comp===undefined){comp=defaultComp;}var prevState=(0,_translatePath.atPath)(store.getState(),path);var innerCallback=function innerCallback(){if(!comp((0,_translatePath.atPath)(store.getState(),path),prevState)){prevState=(0,_translatePath.atPath)(store.getState(),path);callback(prevState);}};var unsubscribe=store.subscribe(innerCallback);return unsubscribe;}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NvdXJjZS9saXN0ZW5PblN0YXRlQ2hhbmdlLmpzIl0sIm5hbWVzIjpbImxpc3Rlbk9uU3RhdGVDaGFuZ2UiLCJkZWZhdWx0Q29tcCIsImEiLCJiIiwiYUtleSIsImhhc093blByb3BlcnR5Iiwic3RvcmUiLCJwYXRoIiwiY2FsbGJhY2siLCJjb21wIiwidW5kZWZpbmVkIiwicHJldlN0YXRlIiwiZ2V0U3RhdGUiLCJpbm5lckNhbGxiYWNrIiwidW5zdWJzY3JpYmUiLCJzdWJzY3JpYmUiXSwibWFwcGluZ3MiOiJ5RUF3QndCQSxtQixDQXhCeEIsOENBRUEsUUFBU0MsWUFBVCxDQUFxQkMsQ0FBckIsQ0FBd0JDLENBQXhCLENBQTBCLENBQ3pCLEdBQUdELElBQU1DLENBQVQsQ0FBVyxDQUNWLE1BQU8sS0FBUCxDQUNBLENBQ0QsR0FBRyxNQUFPRCxFQUFQLEdBQWEsTUFBT0MsRUFBcEIsRUFBeUIsTUFBT0QsRUFBUCxHQUFhLFFBQXpDLENBQWtELENBQ2pELElBQUksR0FBSUUsS0FBUixHQUFnQkYsRUFBaEIsQ0FBa0IsQ0FDakIsR0FBRyxDQUFDQyxFQUFFRSxjQUFGLENBQWlCRCxJQUFqQixDQUFKLENBQTJCLENBQUUsTUFBTyxNQUFQLENBQWUsQ0FDNUMsR0FBR0YsRUFBRUUsSUFBRixJQUFZRCxFQUFFQyxJQUFGLENBQWYsQ0FBdUIsQ0FBRSxNQUFPLE1BQVAsQ0FBZSxDQUN4QyxDQUNELE1BQU8sS0FBUCxDQUNBLENBQ0QsTUFBTyxNQUFQLENBQ0EsQ0FVYyxRQUFTSixvQkFBVCxDQUE2Qk0sS0FBN0IsQ0FBb0NDLElBQXBDLENBQTBDQyxRQUExQyxDQUFvREMsSUFBcEQsQ0FBeUQsQ0FDdkUsR0FBR0EsT0FBU0MsU0FBWixDQUFzQixDQUNyQkQsS0FBT1IsV0FBUCxDQUNBLENBQ0QsR0FBSVUsV0FBWSwwQkFBT0wsTUFBTU0sUUFBTixFQUFQLENBQXlCTCxJQUF6QixDQUFoQixDQUNBLEdBQUlNLGVBQWdCLFFBQWhCQSxjQUFnQixFQUFNLENBQ3pCLEdBQUcsQ0FBRUosS0FBSywwQkFBT0gsTUFBTU0sUUFBTixFQUFQLENBQXlCTCxJQUF6QixDQUFMLENBQXFDSSxTQUFyQyxDQUFMLENBQXFELENBRXBEQSxVQUFZLDBCQUFPTCxNQUFNTSxRQUFOLEVBQVAsQ0FBeUJMLElBQXpCLENBQVosQ0FDQUMsU0FBU0csU0FBVCxFQUNBLENBQ0QsQ0FORCxDQU9BLEdBQUlHLGFBQWNSLE1BQU1TLFNBQU4sQ0FBZ0JGLGFBQWhCLENBQWxCLENBQ0EsTUFBT0MsWUFBUCxDQUNBIiwiZmlsZSI6Imxpc3Rlbk9uU3RhdGVDaGFuZ2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2F0UGF0aH0gZnJvbSBcIi4vdHJhbnNsYXRlUGF0aFwiO1xyXG5cclxuZnVuY3Rpb24gZGVmYXVsdENvbXAoYSwgYil7XHJcblx0aWYoYSA9PT0gYil7XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcblx0aWYodHlwZW9mIGEgPT09IHR5cGVvZiBiICYmIHR5cGVvZiBhID09PSBcIm9iamVjdFwiKXtcclxuXHRcdGZvcih2YXIgYUtleSBpbiBhKXtcclxuXHRcdFx0aWYoIWIuaGFzT3duUHJvcGVydHkoYUtleSkpeyByZXR1cm4gZmFsc2U7IH1cclxuXHRcdFx0aWYoYVthS2V5XSAhPT0gYlthS2V5XSl7IHJldHVybiBmYWxzZTsgfVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG5cdHJldHVybiBmYWxzZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFVzZSB0aGlzIGZ1bmN0aW9uIHRvIHN1YnNjcmliZSBhIHN0YXRlIGNoYW5nZSBsaXN0ZW5lclxyXG4gKiBAcGFyYW0gIHtSZWR1eCBzdG9yZX0gICBzdG9yZSAgICBZb3VyIHJlZHV4IHN0b3JlXHJcbiAqIEBwYXJhbSAge3N0cmluZ30gICBwYXRoICAgICB0aGUgcGF0aCB0byB0aGUgc2xpY2UgeW91IHdhbnQgdG8gbGlzdGVuIHRvXHJcbiAqIEBwYXJhbSAge0Z1bmN0aW9uKHNsaWNlKX0gY2FsbGJhY2sgZnVuY3Rpb24gdG8gY2FsbCBvbiBzdGF0ZSBjaGFuZ2UgKHdpbGwgcmVjZWl2ZSB0aGUgc3RhdGUgc2xpY2Ugd2hpY2ggaXMgbGlzdGVuZWQgdG8pXHJcbiAqIEBwYXJhbSAge0Z1Y3Rpb24oYSwgYil9ICAgY29tcCAgICAgdHJpZ2dlcnMgdGhlIGNhbGxiYWNrIGlmIGNvbXAocHJldlNhdGUsIG5leHRTdGF0ZSkgaXMgdHJ1ZSAoZGVmYXVsdHMgdG8gZGVmYXVsdENvbXApXHJcbiAqIEByZXR1cm4ge0Z1bmN0aW9uKCl9ICAgICAgICAgICAgY2FsbCB0aGlzIGZ1bmN0aW9uIHRvIHVuc3Vic2NyaWJlXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBsaXN0ZW5PblN0YXRlQ2hhbmdlKHN0b3JlLCBwYXRoLCBjYWxsYmFjaywgY29tcCl7XHJcblx0aWYoY29tcCA9PT0gdW5kZWZpbmVkKXtcclxuXHRcdGNvbXAgPSBkZWZhdWx0Q29tcDtcclxuXHR9XHJcblx0bGV0IHByZXZTdGF0ZSA9IGF0UGF0aChzdG9yZS5nZXRTdGF0ZSgpLCBwYXRoKTtcclxuXHRsZXQgaW5uZXJDYWxsYmFjayA9ICgpID0+IHtcclxuXHRcdGlmKCEgY29tcChhdFBhdGgoc3RvcmUuZ2V0U3RhdGUoKSwgcGF0aCksIHByZXZTdGF0ZSkpe1xyXG5cdFx0XHQvL3RoZXJlIHdhcyBhIGNoYW5nZVxyXG5cdFx0XHRwcmV2U3RhdGUgPSBhdFBhdGgoc3RvcmUuZ2V0U3RhdGUoKSwgcGF0aCk7XHJcblx0XHRcdGNhbGxiYWNrKHByZXZTdGF0ZSk7XHJcblx0XHR9XHJcblx0fVxyXG5cdGxldCB1bnN1YnNjcmliZSA9IHN0b3JlLnN1YnNjcmliZShpbm5lckNhbGxiYWNrKTtcclxuXHRyZXR1cm4gdW5zdWJzY3JpYmU7XHJcbn0iXX0=